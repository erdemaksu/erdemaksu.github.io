<!DOCTYPE html>
<html lang="en">
    <head>
	<meta charset="utf-8">
	<title>Growbeard</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Documentation site for Growbeard Framework">

	<link href="/css/bootstrap.min.css" rel="stylesheet">
	<style>
	    body {
		    padding-top: 60px;
		 }
	</style>
	<link href="/css/bootstrap-theme.min.css" rel="stylesheet">
	<link href="/css/bs-docs-sidebar.css" rel="stylesheet">

	<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
    </head>

    <body>

	<div class="navbar navbar-inverse navbar-fixed-top">
	    <div class="navbar-inner">
		<div class="container">
		    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		    </a>
		    <a class="navbar-brand" href="#">Growbeard</a>
		    <div class="nav-collapse collapse">
			<!--
			<ul class="nav">
			    <li class="active"><a href="/">Home</a></li>
			</ul>
			-->
		    </div>
		</div>
	    </div>
	</div>

	<div class="container">


<div class="row-fluid">
  <div class="col-lg-8">
    <!-- Breadcrumbs: -->
    
	<div id="breadcrumbs" class="no-print">
	    
	    
	    
	    
		
	    
	    
	    
		<ol class="breadcrumb">
		    <li><a href="/">Home</a></li>
		
		    
		    
		
		    <li><a href="/installation">installation</a></li>
		
		
		    
		
		    
		
		</ol>
	</div>
    
    <!-- Breadcrumbs: -->
  </div>
</div>
<div class="row-fluid">
  <div class="col-lg-8">
	<div id=toc></div>
	<h1 id="installation-of-the-framework">Installation of the framework</h1>

<p>Code base of the frame work is hosted on <strong>skelter</strong>.
To contribute to development, contact the administrator of skelter.</p>

<h2 id="growbeard-resource-management,-build-and-release-tool">Growbeard Resource Management, Build and Release Tool</h2>

<blockquote>
<p>IMPORTANT! If erl_leveldb app is going to be built, due to usage of dirty nifs in leveldb wrapper, OTP version 17 is required and OTP should be built with option <strong>--enable-dirty-schedulers</strong></p>
</blockquote>

<p>To install the system:</p>

<ul>
<li>Clone the git repository.
--http://skelter/gits/growbeard.git </li>
<li>Get dependencies, build and release using growbeard script as shown below.</li>
</ul>

<h3 id="quick-start">Quick Start</h3>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>git clone http://skelter/gits/growbeard.git
<span class="nv">$ </span><span class="nb">cd </span>growbeard
growbeard<span class="nv">$ </span>./growbeard get_deps
growbeard<span class="nv">$ </span>./growbeard configure
growbeard<span class="nv">$ </span>./growbeard build
growbeard<span class="nv">$ </span>./growbeard rel
</code></pre></div>
<blockquote>
<p>Currently there is no command defined for configure phase.
See example manifest file and reltool.config under examples/</p>
</blockquote>

<h3 id="repository-structure">Repository Structure</h3>

<p>This repo includes:</p>

<ul>
<li>growbeard: Single script to execute resource management, configuration, building and release handling.

<ul>
<li>Optionally place the script &quot;growbeard&quot; in your path.</li>
</ul></li>
<li>manifest: Declaration file for resources, command and configuration.</li>
</ul>

<p>Directory structure is as follows:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>tree growbeard/
<span class="nv">$ </span>growbeard/
<span class="nv">$ </span><span class="p">|</span>-- examples
<span class="nv">$ </span><span class="p">|</span>   <span class="p">|</span>-- manifest
<span class="nv">$ </span><span class="p">|</span>   <span class="sb">`</span>-- reltool.config
<span class="nv">$ </span><span class="p">|</span>-- growbeard
<span class="nv">$ </span><span class="p">|</span>-- manifest
<span class="nv">$ </span><span class="p">|</span>-- README.md
<span class="nv">$ </span><span class="sb">`</span>-- rel
<span class="nv">$ </span>    <span class="p">|</span>-- reltool.config
<span class="nv">$ </span>    <span class="sb">`</span>-- runscript
</code></pre></div>
<ul>
<li>reltool.config: Erlang Reltool configuration file that includes system configuration.

<ul>
<li>Default declares profile as development. Change to embedded or standalone for installation packages.</li>
</ul></li>
<li>runscript: The script to start, stop, attach to released erlang nodes.</li>
</ul>

<h3 id="growbeard-usage">Growbeard usage</h3>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">growbeard<span class="nv">$ </span>./growbeard --help 
Usage: growbeard COMMAND <span class="o">[</span>MANIFEST_FILE<span class="o">]</span>
where OPTION :: build <span class="p">|</span> get_deps <span class="p">|</span> rel
      MANIFEST_FILE :: &lt;PATH_TO_FILE&gt; 
</code></pre></div>
<p>Manifest file syntax is as follows.</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">LINE:
    COMMENT <span class="p">|</span> EMPTY <span class="p">|</span> PHASE_START <span class="p">|</span> OPERATION
COMMENT:
    <span class="c">#*</span>
EMPTY:

PHASE_START:
    get_deps: <span class="p">|</span> configure: <span class="p">|</span> build: <span class="p">|</span> rel:
OPERATION:
    GET_DEPS_OP <span class="p">|</span> CONFIGURE_OP <span class="p">|</span> BUILD_OP <span class="p">|</span> REL_OP
GET_DEPS_OP:
    &lt;GIT_URL&gt;
CONFIGURE_OP:
    &lt;SHELL_CMD&gt;
BUILD_OP:
    &lt;APP_NAME&gt;
REL_OP:
    &lt;PATH_TO_RELTOOL_CONFIG&gt; <span class="p">|</span> &lt;CP_CMD&gt; <span class="p">|</span> &lt;MKDIR_CMD&gt;
</code></pre></div>
<p>An example manifest file is as follows:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"> get_deps:
 <span class="o">[</span>&lt;GIT URL&gt;<span class="o">]</span>
 configure:
 <span class="o">[</span>&lt;COMMAND&gt;<span class="o">]</span>
 build:
 <span class="o">[</span>&lt;DIR_NAME_UNDER_SRC&gt;<span class="o">]</span>
 rel:
 &lt;rel/reltool.config&gt;
 <span class="o">[</span>&lt;MKDIR CMD&gt; <span class="o">||</span> &lt;CP_CMD&gt;<span class="o">]</span>
</code></pre></div>
<h2 id="configuring-and-starting-the-system">Configuring and Starting the System</h2>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">growbeard<span class="nv">$ </span><span class="nb">cd </span>rel
rel<span class="nv">$ </span>pundun/bin/pundun <span class="nb">help</span>
Usage: pundun <span class="o">{</span>start<span class="p">|</span>stop<span class="p">|</span>attach<span class="p">|</span>configure<span class="o">}</span>
rel<span class="nv">$ </span>pundun/bin/pundun configure
rel<span class="nv">$ </span>pundun/bin/pundun start
Starting pundun
rel<span class="nv">$ </span>pundun/bin/pundun attach
Attaching to pundun
....
<span class="o">(</span>pundun@&lt;HOSTNAME&gt;<span class="o">)</span>1&gt; <span class="o">[</span>Quit<span class="o">]</span>
rel<span class="nv">$ </span>pundun/bin/pundun stop
Stopping <span class="nv">pundun</span>
<span class="o">==</span>&gt; ok
</code></pre></div>
  </div>
  <div class="col-lg-4">
    
<div class>
    <nav class="bs-docs-sidebar hidden-print">
	<ul id="sidebar" class="nav nav-stacked bs-docs-sidenav fixed" >
	    
	    
	    
    
    
    
    
	
	    <li>
	
	    <a href="/">Home</a>
	</li>
    

    


    
    
    
    

    
	
	    <li class="active">
	
	    <a href="/installation/">Installation</a>
	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	
	
	</li>

    


    
    
    
    

    
	
	    <li>
	
	    <a href="/system_architecture/">System Architecture</a>
	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	
	
	</li>

    


    
    
    
    

    
	
	    <li>
	
	    <a href="/applications/">Applications</a>
	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	    
	    	

	
	    
	    

		
		    <ul  id="sidebar" class="nav nav-stacked sub-ul" >
		    
		
		
		
		    <li>
		
		    <a href="/applications/enterdb/">enterdb</a>
		</li>
	    	

	
	    
	    

		
		
		
		    <li>
		
		    <a href="/applications/erl_leveldb/">erl_leveldb</a>
		</li>
	    	

	
	    
	    

		
		
		
		    <li>
		
		    <a href="/applications/gb_conf/">gb_conf</a>
		</li>
	    	

	
	    
	    

		
		
		
		    <li>
		
		    <a href="/applications/gb_hash/">gb_hash</a>
		</li>
	    	

	
	    
	    

		
		
		
		    <li>
		
		    <a href="/applications/gb_log/">gb_log</a>
		</li>
	    	

	
	
	
	    </ul>
	    
	
	</li>

    


    
    
    
    

    


    
    
    
    

    


    
    
    
    

    


    
    
    
    

    


    
    
    
    

    










	</ul>
    </nav>
</div>

  </div>
</div>
	</div>

	<script src="/js/jquery-1.11.2.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="/js/toc.js"></script>

	<script type="text/javascript">
	    $(document).ready(function() {
		
		$('#toc').toc();
		$('body').scrollspy({
		     target: '#sidebar'
		});
		$( "li.active" ).parent().closest( "li" ).addClass( "active" );
		$( "ul.sub-ul" ).parent().children(":first").append( "<i class=\"pls glyphicon glyphicon-collapse-down\"></i>" );;
	    });
	</script>

    </body>
</html>

